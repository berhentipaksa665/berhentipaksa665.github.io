---
layout: null
---

 <!DOCTYPE html><html lang="en"><head>{% include head-artikel.html %}	{% include verif.html %}	{% include head.html %}</head>
<body>{% include awal-body.html %}<main><br /><br /><center>
	<!-- awal include mengambil dari folder /includes/ berdasarkan nama subdomain/domain -->
  <div class="spo" id="dynamic-include"></div>
  <script>
    const host = window.location.hostname.toLowerCase();
    const parts = host.split(".");
    const container = document.getElementById("dynamic-include");

    // Nama subdomain (jika ada) dan domain utama
    let subdomain = parts.length > 2 ? parts[0].replace(/[^a-z0-9\-]/g, "") : null;
    let domain = parts.length > 2 ? parts[1].replace(/[^a-z0-9\-]/g, "") : parts[0].replace(/[^a-z0-9\-]/g, "");

    // Kandidat file sesuai aturan
    let subFile = subdomain ? subdomain + ".html" : null;
    let domainFile = domain + ".html";
    let fallbackFile = "fallback.html";

    // Fungsi untuk mencoba load file berurutan
    function loadFile(fileList) {
      if (fileList.length === 0) return;

      const file = fileList.shift();
      fetch("/includes/" + file)
        .then(r => {
          if (!r.ok) throw new Error("not found");
          return r.text();
        })
        .then(html => container.innerHTML = html)
        .catch(() => loadFile(fileList)); // coba file berikutnya
    }

    // Susun urutan fallback
    const filesToTry = [];
    if (subFile) filesToTry.push(subFile); // coba subdomain dulu
    filesToTry.push(domainFile);           // lalu domain
    filesToTry.push(fallbackFile);         // terakhir fallback

    // Jalankan loader
    loadFile(filesToTry);
  </script>
<!-- akhir include -->

<section id="random-posts" class="post-grid"></section>

<div style="text-align:center; margin:20px;">
  <button id="load-more" style="
    background:#222;
    color:#fff;
    border:none;
    padding:10px 20px;
    border-radius:6px;
    cursor:pointer;
    font-size:15px;
    transition:background 0.3s ease;
  ">Load More Posts</button>
</div>

<style>
.post-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  padding: 10px;
}

@media (min-width: 600px) {
  .post-grid { grid-template-columns: repeat(3, 1fr); }
}
@media (min-width: 1000px) {
  .post-grid { grid-template-columns: repeat(4, 1fr); }
}

.post-item {
  position: relative;
  overflow: hidden;
  border-radius: 10px;
  background: #f0f0f0;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}

.post-item:hover {
  transform: scale(1.03);
  box-shadow: 0 3px 12px rgba(0,0,0,0.1);
}

/* Skeleton / placeholder */
.skeleton {
  width: 100%;
  aspect-ratio: 16/9;
  background: linear-gradient(90deg, #eee 25%, #ddd 50%, #eee 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: 10px;
}
@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.post-item img {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
  border-radius: 10px;
  opacity: 0;
  transition: opacity 0.5s ease;
}

.post-item img.loaded {
  opacity: 1;
}

/* Ikon play transparan */
.play-icon {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 60px;
  height: 60px;
  background: rgba(0,0,0,0.5);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.play-icon::before {
  content: '';
  width: 0;
  height: 0;
  border-left: 16px solid white;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  margin-left: 4px;
}

#load-more:hover {
  background:#444;
}
</style>

<script>
let allPosts = [];
let currentIndex = 0;
const batchSize = 30;
const container = document.getElementById('random-posts');
const button = document.getElementById('load-more');

const basePath = window.location.origin;
const jsonPath = basePath + '{{ "/posts.json" | relative_url }}';

fetch(jsonPath)
  .then(res => {
    if (!res.ok) throw new Error(res.status);
    return res.json();
  })
  .then(data => {
    allPosts = data.sort(() => Math.random() - 0.5);
    renderPosts();
  })
  .catch(err => {
    console.error('Gagal memuat posts.json:', err);
    container.innerText = 'Gagal memuat data postingan.';
  });

function renderPosts() {
  const nextBatch = allPosts.slice(currentIndex, currentIndex + batchSize);
  nextBatch.forEach(post => {
    const wrapper = document.createElement('a');
    wrapper.href = post.url;
    wrapper.className = 'post-item';
    wrapper.innerHTML = `
      <div class="skeleton"></div>
      <img data-src="${post.image}" alt="${post.title}">
      <div class="play-icon"></div>
    `;
    container.appendChild(wrapper);
  });

  lazyLoadImages();

  currentIndex += batchSize;
  if (currentIndex >= allPosts.length) button.style.display = 'none';
}

function lazyLoadImages() {
  const imgs = container.querySelectorAll('img[data-src]');
  const observer = new IntersectionObserver((entries, obs) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target;
        img.src = img.dataset.src;
        img.addEventListener('load', () => {
          img.classList.add('loaded');
          const skeleton = img.previousElementSibling;
          if (skeleton && skeleton.classList.contains('skeleton')) {
            skeleton.remove();
          }
        });
        obs.unobserve(img);
      }
    });
  }, { rootMargin: '100px' });

  imgs.forEach(img => observer.observe(img));
}

button.addEventListener('click', renderPosts);
</script>







<!-- ads by infotainmentsementara.blogspot.com -->
<br /><script type="text/javascript">
	atOptions = {
		'key' : 'c0f2ae7864bf89882b6415a63a352aca',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/c0f2ae7864bf89882b6415a63a352aca/invoke.js"></script>
	<br /><script type="text/javascript">
	atOptions = {
		'key' : '6f3a1772e861fdf5a198cf5f4c0a4a51',
		'format' : 'iframe',
		'height' : 300,
		'width' : 160,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/6f3a1772e861fdf5a198cf5f4c0a4a51/invoke.js"></script>
	<br /><script type="text/javascript">
	atOptions = {
		'key' : '0912703ef04f5b19d46c0e6585b03a8b',
		'format' : 'iframe',
		'height' : 600,
		'width' : 160,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/0912703ef04f5b19d46c0e6585b03a8b/invoke.js"></script>
<br />
	<script type="text/javascript">
	atOptions = {
		'key' : 'a5a6466e3e89026dc0dc36e57737f25f',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/a5a6466e3e89026dc0dc36e57737f25f/invoke.js"></script>
<br />
	<script type="text/javascript">
	atOptions = {
		'key' : '93ef7f0eb5db306b8a77bd64c7d55fe0',
		'format' : 'iframe',
		'height' : 250,
		'width' : 300,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/93ef7f0eb5db306b8a77bd64c7d55fe0/invoke.js"></script>
<br />
		<script type="text/javascript">
	atOptions = {
		'key' : 'cf38f5abe9d6282e2216fd9942960fd1',
		'format' : 'iframe',
		'height' : 50,
		'width' : 320,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/cf38f5abe9d6282e2216fd9942960fd1/invoke.js"></script>
	<br />
	
	


</center></main>
{% include akhir-body.html %}<br /><br /><br />
</body></html>
