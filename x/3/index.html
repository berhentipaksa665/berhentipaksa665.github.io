---
layout: null
---

<div id="video-list"></div>
<div id="pagination" style="margin-top:20px;"></div>

<script>
const perPage = 10; // jumlah posting per halaman
let currentPage = 1;

// Ambil JSON postingan
fetch('/posts.json')
  .then(res => res.json())
  .then(posts => {
    renderPagination(posts);
    renderPosts(posts);
  });

// Render daftar postingan compact
function renderPosts(posts) {
  const list = document.getElementById("video-list");
  list.innerHTML = "";

  const start = (currentPage - 1) * perPage;
  const end = start + perPage;
  const showPosts = posts.slice(start, end);

  showPosts.forEach((post, index) => {
    const globalIndex = start + index + 1;
    const num = globalIndex < 10 ? "0" + globalIndex : globalIndex;

    list.innerHTML += `
      video ${num} ${post.title}.mp4
      → <a href="${post.url}">${post.url}</a><br>
    `;
  });
}

// Render tombol paginasi
function renderPagination(posts) {
  const totalPages = Math.ceil(posts.length / perPage);
  const nav = document.getElementById("pagination");

  function updateButtons() {
    nav.innerHTML = `
      ${currentPage > 1 ? `<button onclick="changePage(${currentPage - 1})">« Prev</button>` : ""}
      Page ${currentPage} of ${totalPages}
      ${currentPage < totalPages ? `<button onclick="changePage(${currentPage + 1})">Next »</button>` : ""}
    `;
  }

  updateButtons();

  window.changePage = function(page) {
    currentPage = page;
    renderPosts(posts);
    updateButtons();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
}
</script>
