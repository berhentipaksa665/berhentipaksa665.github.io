---
layout: default
title: "All Sites Hub"
permalink: /hub/
---

<h2>All Sites Hub</h2>
<ul id="hub-list">Loading...</ul>

<script>
fetch("/functions/hub")
  .then(res => res.json())
  .then(data => {
    var list = document.getElementById("hub-list");
    list.innerHTML = "";
    if (data.sites) {
      data.sites.forEach(domain => {
        var li = document.createElement("li");
        var base = "https://" + domain;
        li.innerHTML = '<a href="'+base+'/">'+domain+'</a> â†’ ' +
                       '<a href="'+base+'/sitemap.xml">sitemap.xml</a> | ' +
                       '<a href="'+base+'/feed.xml">feed.xml</a>';
        list.appendChild(li);
      });
    } else {
      list.innerHTML = "<li>No domains found</li>";
    }
  })
  .catch(err => {
    document.getElementById("hub-list").innerHTML = "<li>Error loading domains</li>";
    console.error(err);
  });
</script>
